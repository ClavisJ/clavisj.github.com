<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta name="baidu-site-verification" content="AsDpnKjG4B"/>
    <title> bat的一些基础语法 · ClavisBlog </title>
    <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="browsermode" content="application">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="ClavisBlog">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="msapplication-navbutton-color" content="#666666">
<meta name= "format-detection" content="telephone=no" />
<meta name="keywords" content="nlvi, Nlvi" />





<link rel="stylesheet" href="/style/style.css" type="text/css">
<script src="/script/jquery.min.js" type="text/javascript"></script>
<script>
    var CONFIG = {
        title: "ClavisBlog",
        author: "Clavis JJ",
        lightbox: true,
        animate: true
    }
</script>



    <link rel="stylesheet" href="/lightbox/css/lightbox.min.css" type="text/css">




    <link rel="stylesheet" href="/syuanpi/syuanpi.min.css" type="text/css">










</head>
<body>
    <div class="progress">
    <div class="progress-inner"></div>
</div>
    <div class="body">
    <div class="tagcloud-mask"></div>  
<div class="tagcloud" id="tagcloud">
    <div class="tagcloud-inner">
        <a href="/tags/swift2/" style="font-size: 14px;">swift2</a>
    </div>
</div>
    <header class="header" id="header">
    <div class="title syuanpi tvIn">
    <div class="table">
        <div class="connect">
            <div class="connect-inner">
                <span><a href="/">ClavisBlog</a></span>
                
            </div>
        </div>
    </div>
</div>
    <nav class="main-nav syuanpi tvIn">
<div class="table">

    <ul class="menu">
        
        
        
            <li class="menu-item">
                <a href="/">
                    <span>文章</span>
                    
                        <span class="menu-item-label">article</span>
                    
                </a>
            </li>
        
        
        
            <li class="menu-item">
                <a href="/archives">
                    <span>归档</span>
                    
                        <span class="menu-item-label">archives</span>
                    
                </a>
            </li>
        
        
        
            <li class="menu-item">
                <a href="/read">
                    <span>读书</span>
                    
                        <span class="menu-item-label">read</span>
                    
                </a>
            </li>
        
        
    </ul>

</div>
</nav>
</header>
<div class="mobile-header">
    <div class="mobile-header-body">
        <div class="mobile-header-list">
            
            
                <div class="mobile-nav-item">
                    <a href="/">
                        <span>文章</span>
                        
                            <span class="menu-item-label">article</span>
                        
                    </a>
                </div>
            
            
            
                <div class="mobile-nav-item">
                    <a href="/archives">
                        <span>归档</span>
                        
                            <span class="menu-item-label">archives</span>
                        
                    </a>
                </div>
            
            
            
                <div class="mobile-nav-item">
                    <a href="/read">
                        <span>读书</span>
                        
                            <span class="menu-item-label">read</span>
                        
                    </a>
                </div>
            
            
        </div>
    </div>
    <div class="mobile-header-nav">
        <div class="mobile-header-item" id="mobile-left">
            <div class="header-menu-item">
                <span class="header-menu-line"></span>
            </div>
        </div>
        <h1 class="mobile-header-title">
            <a href="/">ClavisBlog</a>
        </h1>
        <div class="mobile-header-item"></div>
    </div>
</div>

    <div class="container">
        <main class="main" id="main">
            
    
    <article class="post">
        <header class="post-header">
            <div class="post-time syuanpi riseIn-light back-1">
                <span>2016年2月26日</span>
                
                
                    <span class="post-category"><a href="/categories/Script/">Script</a></span>
                
                
            </div>
            <h1 class="post-title syuanpi riseIn-light back-2">
            
                bat的一些基础语法
            
            </h1>
            
                
            
        </header>
        <div class="post-content syuanpi riseIn-light back-3">
            
                <p>前两天想在windows下生成两个文件，就看了下bat。这里整理了一些简单的bat命令。</p>
<a id="more"></a>
<blockquote>
<p>bat：批处理文件，在DOS和Windows（任意）系统中，.bat文件是可执行文件，由一系列命令构成，其中可以包含对其他程序的调用。 —— 摘自百度百科</p>
</blockquote>
<h4 id="输出">输出</h4><pre><code><span class="built_in">echo</span> <span class="string">"test"</span> 
</code></pre><h4 id="注释">注释</h4><pre><code><span class="comment">rem setloca</span>
</code></pre><h4 id="接收命令提示符的参数">接收命令提示符的参数</h4><pre><code><span class="keyword">echo</span> <span class="number">%1</span> 
</code></pre><p>同理，第二个第三个参数就依次是%2，%3…  要执行bat文件，直接双击，或者拖到cmd中，按回车，参数的话，用空格接在bat文件的路径后面就行了。</p>
<h4 id="变量的赋值及使用">变量的赋值及使用</h4><pre><code><span class="keyword">SET</span> p=<span class="number">9</span>  
<span class="keyword">echo</span> <span class="envvar">%p%</span>
</code></pre><p>tip：变量和值之间的等号不能有空格。</p>
<h4 id="关闭回显">关闭回显</h4><pre><code><span class="property">@echo</span> <span class="literal">off</span> 
</code></pre><p>bat中的每句命令都会在命令提示符中打印出来，可以关闭回显，@表示连本条命令都不显示</p>
<h4 id="变量延迟">变量延迟</h4><pre><code><span class="keyword">setlocal</span> enabledelayedexpansion 
</code></pre><p>使批处理能感知到动态变化，开启了之后，变量需要拿感叹号引用 !p!</p>
<h4 id="写入文件">写入文件</h4><pre><code>echo 123 &gt; C:<span class="command">\Users</span><span class="command">\Clavis</span><span class="command">\Desktop</span><span class="command">\txt</span>.txt
</code></pre><p>如果文件不存在，则会新建该文件</p>
<h4 id="写入多行文本到文件">写入多行文本到文件</h4><pre><code>@echo off
more +<span class="number">4</span> %<span class="number">0</span> &gt;&gt; C:\Users\Clavis\Desktop\txt.txt
<span class="built_in">exit</span> /b

<span class="number">123</span>=<span class="number">0</span>
<span class="number">222</span>=<span class="number">0</span>
<span class="number">333</span>=<span class="number">0</span>
...
</code></pre><p>这段话的意思是把<code>exit \b</code>后面的全部内容写入txt.txt文件中，more+4就是从一个文件的第四行开始显示，%0表示批处理本身的路径。</p>
<p>这样做有个问题是，…后面如果还有命令，比如echo啥的，会当成文本直接写入txt文件，而不会去执行，如果中间想终止写入，也不知道咋终止TAT</p>
<p>如果不想这样，就只能一句句echo，觉得好low，所以最后还是换的shell脚本实现的…</p>

            
        
        </div>
        
            
            
        
    </article>
    
        
    <nav class="article-page">
        
            <a href="/Essay/ThreeBody-BookReview/" id="art-left" class="art-right">
                <span class="next-title">
                    关于《三体》的一点纪念<i class="iconfont icon-right"></i> 
                </span>
            </a>
        
        
            <a href="/iOS/What-s-New-in-Swift2/" id="art-right" class="art-left">
                <span class="prev-title"> 
                    <i class="iconfont icon-left"></i>【译】Swift2的新特性
                </span>
            </a>
        
    </nav>

        
    <i id="com-switch" class="iconfont icon-more jumping-in long infinite" style="font-size:24px;display:block;text-align:center;transform:rotate(180deg);"></i>
    <div class="post-comments" id="post-comments" style="display: block;margin: auto 16px;">
    
        <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
		<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
		<script>
			var gitment = new Gitment({
			owner: 'ClavisJ',
			repo: 'HexoComment',
			oauth: {
			client_id: '4608bfda19fb959ee598',
			client_secret: '87b14f10d2de221a07d19bc1f1222cd05a3f54ce',
			},
			})
			gitment.render('post-comments')
		</script>
    </div>


    


        </main>
        <footer class="footer syuanpi fadeIn" id="footer">
    <hr>
    <div class="footer-wrapper">
        <div class="left">
            <div class="contact-icon">
    
    
    
    
    
    
    
    
    
        
            <a href="https://github.com/ClavisJ" class="iconfont icon-github" title="github"></a>
        
        
        
        
        
        
        
        
    
        
        
            <a href="https://weibo.com//u/2833253020" class="iconfont icon-weibo" title="weibo"></a>
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
            <a href="mailto:ClavisJJ@gmail.com" target="_blank" class="iconfont icon-mail" title="mail"></a>
        
    
</div>
        </div>
        <div class="right">
            <div class="copyright">
    <div class="info">
        <span>&copy;</span>
        <span>1970 ~ 2017</span>
        <span>❤</span>
        <span>Clavis JJ</span>
    </div>
    <div class="theme">
        <span>
            动力来源于
            <a href="http://hexo.io/" target="_blank">Hexo </a>
        </span>
        <span>
            主题
            <a href="https://github.com/ColMugX/hexo-theme-Nlvi"> Nlvi </a>
        </span>
    </div>
    
</div>
        </div>
    </div>
</footer>
    </div>
    <script src="/script/nlvi.js" type="text/javascript"></script>
<script src="/script/search.js" type="text/javascript"></script>

    <script src="/lightbox/js/lightbox.min.js" type="text/javascript"></script>

<script>
$(document).ready(function(){
    document.body.addEventListener('touchstart', function () {});
    $('.progress').hide();
    $('.body').show();
    Nlvi.tagcloud();
    Nlvi.mobileHeader();
    Nlvi.back2top();
    Nlvi.smoothScroll();
    Nlvi.onView();
    Nlvi.showToc();
    Nlvi.showComments();
    Nlvi.showReward();

    !CONFIG.animate && Nlvi.offAnimate();
    CONFIG.lightbox && Nlvi.onPicBox();
})
</script>
    </div>
    
        
    
    <div class="backtop syuanpi dead toTop" id="backtop">
    <i class="iconfont icon-up"></i>
    <span style="text-align:center;font-family:Georgia;"><span style="font-family:Georgia;" id="scrollpercent">1</span>%</span>
</div>
    
</body>
</html>
